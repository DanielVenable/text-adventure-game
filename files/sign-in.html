<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Sign in | Text Adventure Game Creator</title>
	<link rel="stylesheet" href="navbar.css">
	<style>
		#sign-in, #sign-up {
			padding: 50px;
			border: 1px solid black;
			box-shadow: 5px 5px 5px gray;
		}

		form {
			line-height: 150%;
		}

		.container {
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.link {
			color: blue;
			cursor: pointer;
			text-decoration: underline;
		}

		#warning {
			background-color: yellow;
		}
	</style>
</head>

<body>
	<div id="navbar">
		<a href="/" class="left">Home</a>
	</div>
	<div class="container">
		<div id="sign-in">
			<h3>Sign in:</h3>
			<form action="/signin" method="POST">
				<label>Username:<br><input name="username"></label><br>
				<label>Password:<br><input type="password" name="password"></label><br>
				<input name="url" value="%s" hidden>
				<input type="submit" value="Sign in">
				<p %s><span id="warning">Incorrect username or password.</span></p>
			</form>
			<p>Don't have an account? <span class="link" onclick="signup()">Sign up!</span></p>
			<p><small>By signing in you agree to the use of cookies.</small></p>
		</div>
		<div id="sign-up" hidden>
			<h3>Sign up:</h3>
			<form action="/signup" method="POST" onsubmit="return check_passwords()">
				<label>Username:<br>
					<input name="username"></label><br>
				<label>Password:<br>
					<input type="password" name="password" class="pass"></label><br>
				<label>Comfirm password:<br>
					<input type="password" class="pass"></label><br>
				<input name="url" value="%s" hidden>
				<input type="submit" value="Sign up">
			</form>
			<p>Have an account? <span class="link" onclick="signin()">Sign in!</span></p>
			<p><small>By signing up you agree to the use of cookies.</small></p>
		</div>
	</div>
</body>

<script>
	const signinbox = document.getElementById('sign-in');
	const signupbox = document.getElementById('sign-up');
	const [sign_up_pass, sign_up_confirm] = document.getElementsByClassName('pass');

	function signin() {
		signinbox.hidden = false;
		signupbox.hidden = true;
	}

	function signup() {
		signinbox.hidden = true;
		signupbox.hidden = false;
	}

	function check_passwords() {
		if (sign_up_pass.value === sign_up_confirm.value) return true;
		alert('Passwords do not match.');
		return false;
	}
</script>

</html>