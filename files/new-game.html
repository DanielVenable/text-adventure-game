<!DOCTYPE html>
<html lang="en">

<head>
	<title>Text Adventure Game Creator</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="navbar.css">
	<style>
		#warning {
			background-color: yellow;
		}
	</style>
</head>

<body>
	<div id="navbar">
		<a href="/" class="left">Home</a>
		<a href="/signin" class="right">Sign in/Sign up</a>
	</div>
	<form class="container">
		<lable for="name">Choose a name for your game:</lable><br>
		<input id="name" name="name">
		<input type="submit" value="submit">
	</form>
</body>

<script>
	const input = document.getElementById('name');
	const submit = document.getElementById('submit');

	document.querySelector('form').addEventListener('submit', e => {
		e.preventDefault();
		const xhttp = new XMLHttpRequest();
		xhttp.open('POST', '/create');
		xhttp.send(`name=${encodeURIComponent(input.value)}`);
		xhttp.onreadystatechange = () => {
			if (xhttp.readyState === 4 && xhttp.status === 200) {
				window.location.href = `/edit?game=${
					encodeURIComponent(xhttp.response)}`;
			}
		}
	});
</script>

</html>